{% extends "base.html" %}
{% load static %}

{% block title %}Home - Identity Verification{% endblock %}

{% block content %}
<div class="container py-5">
    <!-- Header (inline layout) -->
    <div class="d-flex align-items-center justify-content-between mb-4">
        <div class="">
            <h2 class="fw-bold mb-1">Onboarding & Verification</h2>
            <p class="text-muted mb-0">Complete your Registration and KYC <br>to secure your stokvel account</p>
        </div>

        <a href="{% url 'core:home' %}" class="btn btn-outline-secondary">&larr;</a>
    </div>


    <!-- Step 1: Personal Details -->
    <div class="step active" id="step1">
        <h5 class="mb-3">Personal Details</h5>
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="mb-3">
                <label for="first_name" class="form-label">First Name</label>
                <input type="text" name="first_name" class="form-control" id="first_name" placeholder="Enter your first name" required />
            </div>
            <div class="mb-3">
                <label for="surname" class="form-label">Surname</label>
                <input type="text" name="surname" class="form-control" id="surname" placeholder="Enter your surname" required />
            </div>
            <div class="mb-3">
                <label for="phone_number" class="form-label">Phone Number</label>
                <input type="text" name="phone_number" class="form-control" id="phone_number" placeholder="Enter your phone number" />
            </div>
            <div class="mb-3">
                <label for="address" class="form-label">Address</label>
                <input type="text" name="address" class="form-control" id="address" placeholder="Enter your address" />
            </div>
            <div class="mb-3">
                <label for="date_of_birth" class="form-label">Date of Birth</label>
                <input type="date" name="date_of_birth" class="form-control" id="date_of_birth" />
            </div>
            <div class="mb-3">
                <label for="stokvel" class="form-label">Stokvel ID</label>
                <input type="text" name="stokvel_id" class="form-control" id="stokvel" placeholder="Enter your Stokvel ID" />
            </div>
        </form>
    </div>

    <!-- Step 2: Identity Document -->
    <div class="card shadow-sm mb-4">
        <div class="card-body text-center py-5">
            <div class="mb-3">
                <i class="bi bi-file-earmark-text fs-1 text-primary"></i>
            </div>
            <h5 class="fw-bold">Identity Document</h5>
            <p class="text-muted mb-4">Upload your South African ID or passport</p>
            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <input type="file" name="id_document" class="form-control mb-3" accept=".pdf,.jpg,.png" />
                <p class="small text-muted">Supported: PDF, JPG, PNG (max 5MB)</p>
                <button class="btn btn-primary" type="submit">Upload</button>
            </form>
        </div>
    </div>

    <!-- Step 3: Proof of Address -->
    <div class="card shadow-sm mb-4">
        <div class="card-body text-center py-5">
            <div class="mb-3">
                <i class="bi bi-geo-alt fs-1 text-primary"></i>
            </div>
            <h5 class="fw-bold">Proof of Address</h5>
            <p class="text-muted mb-4">Upload a recent utility bill, bank statement, or municipal account</p>
            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <input type="file" name="proof_of_address" class="form-control mb-3" accept=".pdf,.jpg,.png" />
                <p class="small text-muted">Not older than 3 months</p>
                <button class="btn btn-primary" type="submit">Upload</button>
            </form>
        </div>
    </div>

    <!-- Step 4: Selfie Verification -->
    <div class="card shadow-sm mb-5">
        <div class="card-body text-center py-5">
            <div class="mb-3">
                <i class="bi bi-camera fs-1 text-primary"></i>
            </div>
            <h5 class="fw-bold">Selfie Verification</h5>
            <p class="text-muted mb-4">Take a clear selfie for identity verification</p>
            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <input type="file" name="selfie" class="form-control mb-3" accept="image/*" capture="user" />
                <p class="small text-muted">Look directly at the camera in good lighting</p>
                <button class="btn btn-primary" type="submit">Upload</button>
        </div>
    </div>

    <div class="mb-3 text-center">
        Already have an account? <a href="{% url 'core:login' %}">Login here</a>.
    </div>

    <!-- Complete Button -->
    <div class="text-center">
        <button type="submit" class="btn btn-success px-5 py-2">Complete Verification</button>
    </div>
    </form>
</div>

{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="{% static 'js/scripts.js' %}"></script>
{% endblock %}
